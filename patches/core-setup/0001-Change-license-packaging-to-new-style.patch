From f484a98f8b1f0e2872347e6e1f182839b46e1a45 Mon Sep 17 00:00:00 2001
From: Davis Goodin <dagood@microsoft.com>
Date: Tue, 4 Dec 2018 20:47:18 -0600
Subject: [PATCH] Change license packaging to new style

Based on info found in https://github.com/NuGet/Home/issues/7509
---
 src/managed/CommonManaged.props | 10 +++++-----
 1 file changed, 5 insertions(+), 5 deletions(-)

diff --git a/src/managed/CommonManaged.props b/src/managed/CommonManaged.props
index 2a62fe2b..bf49059b 100644
--- a/src/managed/CommonManaged.props
+++ b/src/managed/CommonManaged.props
@@ -9,9 +9,9 @@
     <DisableImplicitFrameworkReferences>true</DisableImplicitFrameworkReferences>
     <IncludeSymbols>true</IncludeSymbols>
     <Serviceable>true</Serviceable>
-    <PackageLicenseUrl>https://github.com/dotnet/core-setup/blob/master/LICENSE.TXT</PackageLicenseUrl>
     <PackageProjectUrl>https://dot.net</PackageProjectUrl>
-    <PackageLicenseFile>$(RepoRoot)LICENSE.TXT</PackageLicenseFile>
+    <PackageLicenseFile>LICENSE.TXT</PackageLicenseFile>
+    <PackageLicenseAbsoluteFile>$(RepoRoot)$(PackageLicenseFile)</PackageLicenseAbsoluteFile>
     <PackageThirdPartyNoticesFile>$(RepoRoot)THIRD-PARTY-NOTICES.TXT</PackageThirdPartyNoticesFile>
   </PropertyGroup>
 
@@ -33,9 +33,9 @@
 
   <!-- Add required legal files to packages -->
   <ItemGroup>
-    <Content Condition="Exists('$(PackageLicenseFile)')"
-             Include="$(PackageLicenseFile)">
-      <PackagePath />
+    <Content Condition="Exists('$(PackageLicenseAbsoluteFile)')"
+             Include="$(PackageLicenseAbsoluteFile)">
+      <PackagePath>$(PackageLicenseFile)</PackagePath>
     </Content>
     <Content Condition="Exists('$(PackageThirdPartyNoticesFile)')"
              Include="$(PackageThirdPartyNoticesFile)">
-- 
2.17.1.windows.2

